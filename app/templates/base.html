</main>
</div>

<!-- Scripts -->
<script>
    // Initialize Lucide Icons
    lucide.createIcons();
    
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebarToggle');
    const mainContent = document.getElementById('mainContent');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileOverlay = document.getElementById('mobileOverlay');

    // Desktop Toggle
    if (sidebarToggle) {
        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            if (sidebar.classList.contains('collapsed')) {
                mainContent.classList.remove('lg:ml-72');
                mainContent.classList.add('lg:ml-20');
            } else {
                mainContent.classList.remove('lg:ml-20');
                mainContent.classList.add('lg:ml-72');
            }
        });
    }

    // Mobile Toggle
    if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', () => {
            sidebar.classList.remove('-translate-x-full');
            mobileOverlay.classList.remove('hidden');
        });
    }

    if (mobileOverlay) {
        mobileOverlay.addEventListener('click', () => {
            sidebar.classList.add('-translate-x-full');
            mobileOverlay.classList.add('hidden');
        });
    }

    // Notification System
    window.showNotification = function(message, type = 'info') {
        const styles = {
            success: 'bg-green-50 border-green-200 text-green-700',
            error: 'bg-red-50 border-red-200 text-red-700',
            warning: 'bg-amber-50 border-amber-200 text-amber-700',
            info: 'bg-blue-50 border-blue-200 text-blue-700'
        };
        
        const iconName = {
            success: 'check-circle',
            error: 'alert-circle',
            warning: 'alert-triangle',
            info: 'info'
        }[type];

        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-50 ${styles[type]} border px-5 py-3.5 rounded-xl shadow-lg fade-in flex items-center space-x-3`;
        notification.innerHTML = `
            <i data-lucide="${iconName}" class="lucide"></i>
            <span class="font-medium text-sm">${message}</span>
            <button onclick="this.parentElement.remove()" class="ml-3 opacity-60 hover:opacity-100 transition-opacity p-1.5 hover:bg-black/5 rounded-lg">
                <i data-lucide="x" class="lucide w-4 h-4"></i>
            </button>
        `;
        document.body.appendChild(notification);
        lucide.createIcons();

        setTimeout(() => {
            if (notification.parentElement) {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                notification.style.transition = 'all 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }
        }, 5000);
    };

    // API Helper
    window.apiCall = async function(url, options = {}) {
        try {
            const response = await fetch(url, {
                headers: {
                    'Content-Type': 'application/json',
                    ...options.headers
                },
                ...options
            });
            return await response.json();
        } catch (error) {
            showNotification('Network error: ' + error.message, 'error');
            return { success: false, error: error.message };
        }
    };
</script>

{% block scripts %}{% endblock %}
